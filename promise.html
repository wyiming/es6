<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

<script>

  // var xmlhttp = new XMLHttpRequest();
  // xmlhttp.onreadystatechange=function()
  //   {
  //   if (xmlhttp.readyState==4 && xmlhttp.status==200){
  //       console.log(xmlhttp.responseText)
  //     }
  //   }
  // xmlhttp.open('get','data.json',true)
  // xmlhttp.send();

  var fetch = function(url){
      return new Promise(function(resolve,reject){
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange=function(){
            if (xmlhttp.readyState==4 && xmlhttp.status==200){
                resolve(xmlhttp.responseText)
            }else{
                // reject(xmlhttp.status)
            }
        }
        xmlhttp.open('get','data.json',true)
        xmlhttp.send();
      })
  }

  var data = fetch('data.json')
  .then(function(data){
        return JSON.parse(data)
  }).then(function(json){
    console.log(json)
  })
</script>
  </body>
</html>
